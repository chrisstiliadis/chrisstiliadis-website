<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music - Chris Stiliadis</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/custom.css">
    <!-- Mini equalizer navigation styles -->
    <style>
      #mini-eq {
        --bar-width: 16px;
        --bar-gap: 6px;
        --eq-height: 80px;
        --corner: 4px;
        --lift: -10px;
        --shadow: 0 8px 16px rgba(0,0,0,0.10);
        display: grid;
        grid-auto-flow: column;
        grid-auto-columns: var(--bar-width);
        gap: var(--bar-gap);
        align-items: end;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 1000;
      }
      #mini-eq .bar {
        position: relative;
        width: var(--bar-width);
        height: var(--eq-height);
        text-decoration: none;
        transition: transform 0.3s, opacity 0.3s;
      }
      #mini-eq .bar__fill {
        width: 100%;
        height: 40%;
        border-radius: var(--corner);
        overflow: hidden;
        box-shadow: 0 4px 8px rgba(0,0,0,0.08);
        transition: transform 0.3s, box-shadow 0.3s;
        position: relative;
        isolation: isolate;
        animation: mini-updown 1.4s ease-in-out infinite;
      }
      #mini-eq .bar__img {
        position: absolute;
        inset: 0;
        background-position: center;
        background-size: cover;
        filter: contrast(1.05) saturate(1.05);
      }
      #mini-eq .bar:hover .bar__fill {
        transform: translateY(var(--lift));
        box-shadow: var(--shadow);
      }

      /*
        Mini navigation title styling

        A small title sits above the mini equalizer navigation.  It
        cross‑fades between the names of the tabs as the user hovers
        over each bar.  Two layered elements are used to achieve the
        fade effect, similar to the title on the home page.
      */
      #mini-title {
        position: fixed;
        /* Position the title above the equalizer: 20px bottom margin +
           the equalizer height + a small gap */
        bottom: calc(20px + var(--eq-height) + 8px);
        left: 20px;
        height: 18px;
        min-width: 60px;
        z-index: 1001;
        pointer-events: none;
      }
      #mini-title .mini-layer {
        position: absolute;
        inset: 0;
        display: grid;
        place-items: center;
        font-size: 0.55rem;
        letter-spacing: 0.04em;
        color: #fff;
        opacity: 0;
        transition: opacity 0.3s ease;
      }
      #mini-title .mini-layer.show {
        opacity: 1;
      }
      @keyframes mini-updown {
        0%, 100% { height: 30%; }
        50% { height: 85%; }
      }
    </style>
</head>
<body>
    <header>
        <h1>Music</h1>
    </header>
    <main>
        <div id="artist-container"></div>
    </main>
    <script src="js/data.js"></script>
    <script src="js/scripts.js"></script>
    <script src="js/spotify-autoplay.js"></script>
    <!-- Mini equalizer navigation script -->
    <script>
      const miniItems = [
        { img: "https://picsum.photos/seed/10/600/900", href: "commercial.html", label: "Commercial" },
        { img: "https://picsum.photos/seed/11/600/900", href: "artist.html", label: "Artist" },
        { img: "https://picsum.photos/seed/12/600/900", href: "podcast.html", label: "Podcast" },
        { img: "https://picsum.photos/seed/13/600/900", href: "contact.html", label: "Contact" },
        { img: "https://picsum.photos/seed/14/600/900", href: "boombox-demo.html", label: "Studio" },
        { img: "https://picsum.photos/seed/15/600/900", href: "https://instagram.com", label: "Instagram" },
        { img: "https://picsum.photos/seed/16/600/900", href: "#awards", label: "Awards" },
        { img: "https://picsum.photos/seed/17/600/900", href: "#about", label: "About" }
      ];
      document.addEventListener('DOMContentLoaded', () => {
        const miniEq = document.createElement('div');
        miniEq.id = 'mini-eq';
        document.body.appendChild(miniEq);

        // Create a mini title container for cross‑fading tab names
        const miniTitle = document.createElement('div');
        miniTitle.id = 'mini-title';
        const miniA = document.createElement('div');
        miniA.className = 'mini-layer show';
        miniA.textContent = '';
        const miniB = document.createElement('div');
        miniB.className = 'mini-layer';
        miniB.textContent = '';
        miniTitle.appendChild(miniA);
        miniTitle.appendChild(miniB);
        document.body.appendChild(miniTitle);

        let miniShowingA = true;
        const crossfadeMini = (text) => {
          const showEl = miniShowingA ? miniB : miniA;
          const hideEl = miniShowingA ? miniA : miniB;
          showEl.textContent = text;
          showEl.classList.add('show');
          hideEl.classList.remove('show');
          miniShowingA = !miniShowingA;
        };
        const resetMini = () => {
          miniA.classList.remove('show');
          miniB.classList.remove('show');
        };

        const miniTabs = [];
        miniItems.forEach((item, i) => {
          const bar = document.createElement('a');
          bar.className = 'bar';
          bar.href = item.href;
          bar.setAttribute('aria-label', item.label);
          const fill = document.createElement('div');
          fill.className = 'bar__fill';
          fill.style.animationDuration = (800 + Math.random() * 1000) + 'ms';
          fill.style.animationDelay = (Math.random() * 500) + 'ms';
          const img = document.createElement('div');
          img.className = 'bar__img';
          img.style.backgroundImage = `url(${item.img})`;
          fill.appendChild(img);
          bar.appendChild(fill);
          miniEq.appendChild(bar);
          miniTabs.push(bar);
          bar.addEventListener('mouseenter', () => {
            crossfadeMini(item.label);
          });
          bar.addEventListener('mouseleave', () => {
            // Slight delay to allow the pointer to enter another bar before resetting
            setTimeout(() => {
              const any = miniTabs.some(t => t.matches(':hover'));
              if (!any) {
                resetMini();
              }
            }, 10);
          });
        });
      });
    </script>
</body>
</html>